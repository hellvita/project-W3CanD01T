{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/img/icons.svg","../src/js/render-functions.js","../src/js/constants.js","../src/js/faq.js","../src/js/modal.js","../src/js/furniture-api.js","../src/js/helpers.js","../src/js/order-form.js","../src/js/paginator.js","../src/main.js"],"sourcesContent":["export const refs = {\n    orderModal: {\n    backdrop: document.querySelector('[data-modal-order]'),\n    openBtn: document.querySelector('[data-modal-order-open]'),\n    closeBtn: document.querySelector('[data-modal-order-close]'),\n    form: document.querySelector('[data-order-form]'),\n    },\n    faqSection: {\n    accordion: document.querySelector('.accordion-container')\n    },\n    paginationContainer: document.getElementById('furniture-pagination')\n};\n","export default \"__VITE_ASSET__eTtvedRy__\"","import { refs } from './refs';\nimport icons from '../img/icons.svg';\n\nexport function renderFAQ(faqData) {\n  const markupFaq = faqData\n    .map(\n      ({ q, a }) => `\n            <div class=\"ac\">\n                <h3 class=\"ac-header\">\n                    <button type=\"button\" class=\"ac-trigger\">${q}<svg class=\"svg-sprite-arrow-down\" width=\"17\" height=\"10\">\n                                <use href=\"${icons}#arrow-down\"></use>\n                            </svg>\n                        </button>\n                    </h3>\n                    <div class=\"ac-panel\">\n                        <p class=\"faq-block-answer\">${a}</p>\n                    </div>\n                </div>\n    `\n    )\n    .join('');\n\n  refs.faqSection.accordion.innerHTML = markupFaq;\n}\n","export const BASE_URL = 'https://furniture-store-v2.b.goit.study/api';\n\nexport const ENDPOINTS = {\n  CATEGORY: '/categories',\n  FURNITURE: '/furnitures',\n  FEEDBACK: '/feedbacks',\n  ORDER: '/orders',\n};\n\nexport const faqData = [\n  {\n    q: 'Як здійснюється доставка меблів?',\n    a: 'Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3–7 днів залежно від регіону.'\n  },\n  {\n    q: 'Чи є можливість вибрати колір або матеріал?',\n    a: 'Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару.'\n  },\n  {\n    q: 'Чи можна повернути товар, якщо він не підійшов?',\n    a: 'Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді.'\n  },\n  {\n    q: 'Чи надаєте ви послугу збирання меблів?',\n    a: 'Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час.'\n  },\n  {\n    q: 'Як здійснити оплату?',\n    a: 'Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні.'\n  }\n];","import Accordion from \"accordion-js\";\nimport { renderFAQ } from \"./render-functions.js\";\nimport { faqData } from \"./constants.js\";\n\nfunction initAccordion() {\n    new Accordion(\".accordion-container\");\n}\n\nexport function initSectionFaq() {\n    renderFAQ(faqData);\n    initAccordion();\n}\n","export function openModal(modalRef) {\n  if (!modalRef?.backdrop) return;\n\n  modalRef.backdrop.classList.remove('is-hidden');\n  document.body.classList.add('no-scroll'); \n\n  window.activeModalRef = modalRef;\n  window.addEventListener('keydown', handleEsc);\n}\n\nexport function closeModal(modalRef) {\n  if (!modalRef?.backdrop) return;\n\n  modalRef.backdrop.classList.add('is-hidden');\n  document.body.classList.remove('no-scroll'); \n\n  window.removeEventListener('keydown', handleEsc);\n  window.activeModalRef = null;\n}\n\nfunction handleEsc(e) {\n  if (e.key === 'Escape' && window.activeModalRef) {\n    closeModal(window.activeModalRef);\n  }\n}\n\nexport function initModal(modalRef) {\n  modalRef.openBtn?.addEventListener('click', () => openModal(modalRef));\n  modalRef.closeBtn?.addEventListener('click', () => closeModal(modalRef));\n  modalRef.backdrop?.addEventListener('click', e => {\n    if (e.target === modalRef.backdrop) closeModal(modalRef);\n  });\n}\n\n\n\n\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchFurniture() {\n  const { data } = await axios(`${ENDPOINTS.FURNITURE}`, {\n    params: {\n      page: 1,\n      limit: 8,\n    },\n  });\n  return data;\n}\n\nexport async function sendOrder(orderData) {\n  try {\n    const { data } = await axios.post(ENDPOINTS.ORDER, orderData);\n    return data;\n  } catch (error) {\n    console.error('❌ Order submission error:', error);\n    throw error;\n  }\n}\n\n\n","import iziToast from 'izitoast';\n\niziToast.settings({\n  timeout: 4000,\n  theme: 'dark',\n  position: 'topRight',\n  resetOnHover: true,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n});\n\nexport const toastMessage = message => iziToast.show({ message: [message] });\n\n\nexport function showSuccessToast(message) {\n  iziToast.success({\n    title: 'Успіх',\n    message,\n    position: 'topRight',\n  });\n}\n\nexport function showErrorToast(message) {\n  iziToast.error({\n    title: 'Помилка',\n    message,\n    position: 'topRight',\n  });\n}\n","\nimport { refs } from './refs.js';\nimport { sendOrder } from './furniture-api.js';\nimport { showSuccessToast, showErrorToast } from './helpers.js';\nimport { closeModal } from './modal.js';\n\n\nfunction getFormData(form) {\n  const { name, phone, comment } = form.elements;\n  return {\n    name: name.value.trim(),\n    phone: phone.value.trim(),\n    comment: comment.value.trim(),\n    modelId: form.dataset.modelId,\n    color: form.dataset.color,\n  };\n}\n\n\nfunction validateName(name, form) {\n  const nameRegex = /^[A-Za-zА-Яа-яЁёІіЇїЄєҐґ'’\\-\\s]+$/u;\n  if (!nameRegex.test(name)) {\n    form.elements.name.classList.add('error');\n    showErrorToast('Ім’я може містити лише літери.');\n    return false;\n  }\n  form.elements.name.classList.remove('error');\n  return true;\n}\n\nfunction validatePhone(phone, form) {\n  const cleanPhone = phone.replace(/[()\\s-]/g, '');\n  const phoneRegex = /^\\+?(?:[0-9] ?){6,14}[0-9]$/; \n\n  if (!phoneRegex.test(cleanPhone)) {\n    form.elements.phone.classList.add('error');\n    showErrorToast(\n      'Будь ласка, введіть номер у форматі +380XXXXXXXXX або 380XXXXXXXXX.'\n    );\n    return false;\n  }\n\n  form.elements.phone.classList.remove('error');\n  return true;\n}\n\n\nfunction prepareOrderData(formData) {\n  const cleanPhone = formData.phone.replace(/[()\\s-]/g, '');\n  const normalizedPhone = cleanPhone.replace('+', ''); \n\n  return {\n    name: formData.name,\n    phone: normalizedPhone,\n    comment: formData.comment,\n    modelId: formData.modelId,\n    color: formData.color,\n  };\n}\n\n\nasync function submitOrder(orderData) {\n  return await sendOrder(orderData);\n}\n\n\nfunction setLoadingState(button, isLoading) {\n  if (isLoading) {\n    button.classList.add('on-load');\n    button.disabled = true;\n  } else {\n    button.classList.remove('on-load');\n    button.disabled = false;\n  }\n}\n\nasync function handleOrderSubmit(e) {\n  e.preventDefault();\n\n  const form = e.target;\n  const submitBtn = form.querySelector('[data-form-submit]');\n\n  const formData = getFormData(form);\n\n  \n  const isNameValid = validateName(formData.name, form);\n  const isPhoneValid = validatePhone(formData.phone, form);\n  if (!isNameValid || !isPhoneValid) return;\n\n  \n  const orderData = prepareOrderData(formData);\n\n  \n  setLoadingState(submitBtn, true);\n\n  try {\n   \n    await submitOrder(orderData);\n\n    showSuccessToast(`✅ Дякуємо, ${formData.name}! Ми скоро зв’яжемось із вами.`);\n\n    form.reset();\n    closeModal(refs.orderModal);\n  } catch (error) {\n    console.error('❌ Order submission error:', error.response?.data || error);\n    showErrorToast(\n      error.response?.data?.message ||\n        '❌ Виникла помилка. Спробуйте пізніше.'\n    );\n  } finally {\n   \n    setLoadingState(submitBtn, false);\n  }\n}\n\nexport function initOrderForm() {\n  const { form } = refs.orderModal;\n  if (!form) return;\n  form.addEventListener('submit', handleOrderSubmit);\n}\n\n\n\n\n\n\n\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { refs } from './refs.js';\n\nexport function initPagination() {\n    const { paginationContainer } = refs;\n    if (!paginationContainer) {\n    console.error('Pagination container not found in DOM');\n    return;\n    }\n\n    const prevIcon = `\n    <svg width=\"14\" height=\"14\" class=\"left-arrow\">\n    <use href=\"/img/icons.svg#arrow-left\"></use>  \n    </svg>\n    `;\n\n    const nextIcon = `\n    <svg width=\"14\" height=\"14\" class=\"right-arrow\">\n        <use href=\"/img/icons.svg#arrow-right\"></use>  \n    </svg>\n`;\n\n    const options = {\n    totalItems: 70,\n    itemsPerPage: 8,\n    visiblePages: 4,\n    centerAlign: true,\n    template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n\n    moveButton({ type }) {\n        if (type === 'prev') {\n        return `<a href=\"#\" class=\"tui-page-btn tui-prev\">${prevIcon}</a>`;\n        }\n        if (type === 'next') {\n        return `<a href=\"#\" class=\"tui-page-btn tui-next\">${nextIcon}</a>`;\n        }\n        return '<span style=\"display:none\"></span>';\n    },\n\n    disabledMoveButton({ type }) {\n        if (type === 'prev') {\n        return `<span class=\"tui-page-btn tui-is-disabled tui-prev\">${prevIcon}</span>`;\n        }\n        if (type === 'next') {\n        return `<span class=\"tui-page-btn tui-is-disabled tui-next\">${nextIcon}</span>`;\n        }\n        return '<span style=\"display:none\"></span>';\n    },\n    moreButton({ type }) {\n        if (type === 'next') {\n        return '<a href=\"#\" class=\"tui-page-btn tui-next-is-more\"><span class=\"tui-ico-ellip\">...</span></a>';\n        }\n        return '<a href=\"#\" class=\"tui-page-btn tui-prev-is-more\"><span class=\"tui-ico-ellip\">...</span></a>';\n    },\n    },\n};\n\nconst furniturePagination = new Pagination(paginationContainer, options);\n\n    furniturePagination.on('afterMove', event => {\n    console.log('Current page:', event.page);\n});\n}\n","import { initSectionFaq } from \"./js/faq\";\nimport { refs } from './js/refs.js';\nimport { initModal } from './js/modal.js';\nimport { initOrderForm } from './js/order-form.js';\nimport { initPagination } from './js/paginator.js';\n\ninitSectionFaq();\ninitModal(refs.orderModal);\ninitOrderForm();\ninitPagination();\n"],"names":["refs","icons","renderFAQ","faqData","markupFaq","q","a","BASE_URL","ENDPOINTS","initAccordion","Accordion","initSectionFaq","openModal","modalRef","handleEsc","closeModal","initModal","_a","_b","_c","e","axios","sendOrder","orderData","data","error","iziToast","showSuccessToast","message","showErrorToast","getFormData","form","name","phone","comment","validateName","validatePhone","cleanPhone","prepareOrderData","formData","normalizedPhone","submitOrder","setLoadingState","button","isLoading","handleOrderSubmit","submitBtn","isNameValid","isPhoneValid","initOrderForm","initPagination","paginationContainer","prevIcon","nextIcon","options","type","Pagination","event"],"mappings":"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"}