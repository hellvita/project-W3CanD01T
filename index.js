import{a as f,i as p,R as P,P as Y,S as F,N as T,b as X,A as V}from"./assets/vendor-D9G7cJIl.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();const n={body:document.body,headerSection:{header:document.querySelector(".header"),menuModal:document.querySelector(".js-header__modal"),burgerBtn:document.querySelector(".js-header__menu-btn"),closeBtn:document.querySelector(".js-header__close-btn")},furnitureSection:{categoriesList:document.querySelector(".categories"),furnitureContainer:document.querySelector(".furniture-list"),loadMoreBtn:document.getElementById("load-more-btn")},paginationContainer:document.getElementById("furniture-pagination"),faqSection:{accordion:document.querySelector(".accordion-container"),faqLoader:document.querySelector(".faq-loader"),faqBlock:document.querySelector(".faq-block")},feedback:{list:document.getElementById("feedback-list"),loader:document.getElementById("feedback-loader"),btnNext:document.querySelector(".feedback-btn-next"),btnPrev:document.querySelector(".feedback-btn-prev")},orderModal:{backdrop:document.querySelector("[data-modal-order]"),openBtn:document.querySelector("[data-modal-order-open]"),closeBtn:document.querySelector("[data-modal-order-close]"),form:document.querySelector("[data-order-form]")}},j="https://furniture-store-v2.b.goit.study/api",h={CATEGORY:"/categories",FURNITURE:"/furnitures",FEEDBACK:"/feedbacks",ORDER:"/orders"},M={mobile:375,tablet:768,desktop:1440},I=[{q:"Як здійснюється доставка меблів?",a:"Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3–7 днів залежно від регіону."},{q:"Чи є можливість вибрати колір або матеріал?",a:"Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару."},{q:"Чи можна повернути товар, якщо він не підійшов?",a:"Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді."},{q:"Чи надаєте ви послугу збирання меблів?",a:"Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час."},{q:"Як здійснити оплату?",a:"Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні."}];f.defaults.baseURL=j;async function x(){const{data:e}=await f.get(h.CATEGORY);return e}async function D(e="all",t=1,r=8){const i={page:t,limit:r};e&&e!=="all"&&(i.category=e);const{data:a}=await f.get(h.FURNITURE,{params:i});return a}async function z(){const{data:e}=await f(h.FEEDBACK,{params:{limit:10}});return e}async function Q(e){try{const{data:t}=await f.post(h.ORDER,e);return t}catch(t){throw console.error("❌ Order submission error:",t),t}}const Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGtSURBVHgBrVQ7UsMwENUnjpOBIjkB5gYu08U5AjegpKSkDEfICRhKKijpyA2AE8Q3IA3gjyzxVlY8xmPnM8mbeePVene1u1qJsf2wcjwJIiGEEVIYktkJ8OD5niFCfmNHIgCNfzaw5JxT0NE2B7E9HotkTzIEshSQgVt2BFb9oW8G50NLkqF73+bQY2UJgePI8QIMcRABWBmTDIa60M9Yfjp17Ej44JQFFzzASZYqaEqZShS21CYKVTCjtZWNNswYY2VsFFOGsZQy6Pke2xfS9lL+0+Vpjp30mlK5Url6yZKs2ukQkE/2m7IiV49YzmibBHxC6mNdFBNk21pmazCUmyUpfRdY3lCset6vzDCuVVGNys5gyAwZ3mN5t9HLht0SHMNqUvapGwo901pTsHld3zbYywM6GTcVbQGj+ux1wdmE+wScVjPpQDNHPauDlzbTpnOz83RLvnDNykAYCZUpGok1lmv0Nej1PQQr3dLvhGzG9K8rw3BTLt2G7MfOF43EJTiDbuFmzmXJW8uuY44sNo8pvdBRi01A/8iOyHa8PtdUMmuMQtfmoHE+Ff4AZkytcslqzf0AAAAASUVORK5CYII=",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHlSURBVHgB5VXdUcJAEN6VIJefh1CBWIHYAVZgCWoFagViBUoFQgXYgekAOgArkAd+DgHX3UsCYYbEY0bGB3fmcrnc/u+3G4B/Rcp3B7LgEKR8da0Cl+KlGrZyR7aMgHiVOTzAb5J4bDzn9FQC92OfKOwiIDDeE8IrArXij3ZR4E8MSqkaOBgXdkmnWqlRZTkfsGBozloPi+SdtSIuIiKeEWFISOERYI2I+B1CjN1vaz0bgtYAgdvhL7fkYI/TNmI3YyOEQ8Cvd454qCe6vRWB5DXPC74Y4ZLOU2/LfrleAqfL0rU8GT2eGd2ZGtBj5j7i84WkQDmV6nw8q2ZTsZgs+noyM3fCY3iNTKKJ4H6nVUZGc4N1z6qIIZPyvReRMQjjVBcKbDdUsRFR7gZeL1UuqQMbyhqp+O5dPh+PjqQ/DNp20M4+MAgg6hiGgkIKwswL0k0eXPMbDfFEthWuIsgn4wRDOzc1RZ3ckIdX8iLZzbhIpmmaDkKMYl/gci8D6Zxh/Pdl5wI+sZo3g3tZ3NkCgM/ScZQ6IwW3NsAdXI8vEfRi3uOOMYXmvbXpF2oqvpOuldN0NW2ALbmB291ANUFJZnpKitYIShbLPFsbyAqLYF742caUPgBbWhfTYuavoznUr/TP6RvJBsFT+MM39gAAAABJRU5ErkJggg==",H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGwSURBVHgBrVTtUcJAEN0lIVxImMEOKCFWAB1oB9qBWAF0gFagVuBYgbEC6AA6MD9wiMJl3U1ISCAkyLiZZC53795+L8AJohz1pFz7Hf5DlFI9JiN5uyx1+EYdAAwYpMtwEw7r4FgHUI49Z1SPAAL5/16uLuBcC5WrBkK2BfqsvRvvnUsIBDe7JT0mKxxVXclcluDHC5MtInGRuoiNSXoeLlfYcu0pX/CIonujYSwiigJNOjC0EYRhuIivp6B9NVgSXgR6468niiKieMdAU4zg8NjixsJMQXCChKZ6sPTPDCPdQ8QuK+Uywj57k9xHekncddU4rbVjb5mCdqd9zR5+Jhg1Lhzajj38C2HLse+yc0fdlrpkFTQeJ1RueyR7CbZYRgeRbzpNjwM93d+XLGeEjuJix56mzeX6az3L4w7q0OLnBPk4dnBAqEGXZpxjlvUxZzW2ygDDqyVk6ZfssYcwkb6WBjDB9LfX+7WEhGU1ST5//LivTZxrpKt4WDRoAJXC8y6fWcli3lUpj9jKHKZyRkoJ5Mhes/7OY2TgOup5R1oxfdI6lA6AGkmttTpWAfsLFVqac1NLQcUAAAAASUVORK5CYII=";p.settings({timeout:4e3,theme:"dark",position:"topRight",resetOnHover:!0,transitionIn:"flipInX",transitionOut:"flipOutX"});const m=e=>p.show({message:[e]});function $(e){const t=e%1;let r=Math.floor(e);return t>=.3&&t<=.7&&(r+=.5),t>=.8&&(r+=1),r}function G(e){p.success({title:"Успіх",message:e,position:"topRight"})}function v(e){p.error({title:"Помилка",message:e,position:"topRight"})}function W(e){return e.classList.contains("visible")}function w(e){e.classList.remove("visible")}function L(e){e.classList.add("visible")}function J(e,t=""){e.style=t}function _(e){e.style=""}function ee(){n.body.classList.add("no-scroll")}function q(){n.body.classList.remove("no-scroll")}function N(){ne()&&ee(),Me&&q()}function te(){return window.innerWidth>=M.desktop}function ne(){return window.innerWidth<M.tablet}function re(e){return{[e[0].name]:"all-products",[e[1].name]:"hallway-furniture",[e[2].name]:"kitchens",[e[3].name]:"garden-furniture",[e[4].name]:"tables",[e[5].name]:"upholstered-furniture",[e[6].name]:"furniture-nursery",[e[7].name]:"decor-accessories",[e[8].name]:"bathroom-furniture",[e[9].name]:"office-furniture",[e[10].name]:"cabinets-storage-systems",[e[11].name]:"beds-mattresses",[e[12].name]:"chairs-stools"}}const b="/project-W3CanD01T/assets/icons-CTT8QCMD.svg";function ae(e){const t=re(e),r=e.map(({_id:i,name:a})=>`<li class="category-item ${i==="all"?"active":""}" data-id="${i}">
          <div class="category-wrapper">
            <picture>
              <source
                srcset="
                  /img/furniture/furniture-categories/${t[a]}.webp    1x,
                  /img/furniture/furniture-categories/${t[a]}@2x.webp 2x
                "
              />
              <img
                src="/img/furniture/furniture-categories/${t[a]}.webp"
                alt="${a}"
                class="category-img ${i==="all"?"active":""}"
              />
            </picture>
            <div class="frame"></div>

            <p class="category-name">${a}</p>
            <div class="categories-loader"></div>
          </div>
        </li>`).join("");n.furnitureSection.categoriesList.innerHTML=r}function E(e){return e.map(t=>`<li class="color-circle" style="background-color: ${t};"></li>`).join("")}function ie(e){if(!Array.isArray(e)||e.length===0)return;const t=e.map(({_id:r,name:i,images:a,price:o,color:c})=>{const d=Array.isArray(c)?E(c):E([c]),l=a==null?void 0:a[0];return`
        <li class="furniture-list-item" data-id="${r}">
          <img class="furniture-img" src="${l}" alt="${i}" />
          <h3 class="furniture-title">${i}</h3>
          <ul class="furniture-color-list">${d}</ul>
          <p class="furniture-price">${o} грн</p>
          <button type="button" class="furniture-more-btn button-main btn--grey">
            Детальніше
          </button>
        </li>`}).join("");n.furnitureSection.furnitureContainer.innerHTML=t}function oe(){const e=`
          <li class="furniture-loader"></li>
        <li class="furniture-loader"></li>
        <li class="furniture-loader"></li>
        <li class="furniture-loader"></li>
        <li class="furniture-loader"></li>
        <li class="furniture-loader"></li>
        <li class="furniture-loader"></li>
        <li class="furniture-loader"></li>
  `;n.furnitureSection.furnitureContainer.innerHTML=e}function se(e){const t=$(e.rate),r=document.createElement("div");return r.classList.add("swiper-slide"),r.innerHTML=`
    <article class="feedback-card" aria-label="Відгук клієнта">
      <div class="feedback-card__stars" data-rating="${t}"></div>
      <p class="feedback-card__text">${e.descr}</p>
      <p class="feedback-card__author">${e.name}</p>
    </article>
  `,r}function ce(){document.querySelectorAll(".feedback-card__stars").forEach(t=>{const r=t.dataset.rating||0;new P(t,{number:5,score:r,readOnly:!0,starType:"img",starOn:Z,starOff:K,starHalf:H}).init()})}function de(e){const t=e.map(({q:r,a:i})=>`
            <div class="ac">
                <h3 class="ac-header">
                    <button type="button" class="ac-trigger">${r}<svg class="svg-sprite-arrow-down" width="17" height="10">
                                <use href="${b}#arrow-down"></use>
                            </svg>
                        </button>
                    </h3>
                    <div class="ac-panel">
                        <p class="faq-block-answer">${i}</p>
                    </div>
                </div>
    `).join("");n.faqSection.accordion.innerHTML=t}function le(){n.faqSection.faqLoader.classList.add("faq-loader"),n.faqSection.faqBlock.classList.add("no-active")}function ue(){n.faqSection.faqLoader.classList.remove("faq-loader"),n.faqSection.faqBlock.classList.remove("no-active")}function fe(){n.feedback.loader.classList.remove("is-hidden")}function ge(){n.feedback.loader.classList.add("is-hidden")}function me(){n.furnitureSection.categoriesList.classList.add("loading")}function Ae(){n.furnitureSection.categoriesList.classList.remove("loading")}function pe(){oe()}function he(){[...n.furnitureSection.furnitureContainer.children].forEach(t=>t.classList.remove("furniture-loader"))}function be(e){e!=null&&e.backdrop&&(e.backdrop.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),window.activeModalRef=e,window.addEventListener("keydown",R))}function A(e){e!=null&&e.backdrop&&(e.backdrop.classList.add("is-hidden"),document.body.classList.remove("no-scroll"),window.removeEventListener("keydown",R),window.activeModalRef=null)}function R(e){e.key==="Escape"&&window.activeModalRef&&A(window.activeModalRef)}function ye(e){var t,r,i;(t=e.openBtn)==null||t.addEventListener("click",()=>be(e)),(r=e.closeBtn)==null||r.addEventListener("click",()=>A(e)),(i=e.backdrop)==null||i.addEventListener("click",a=>{a.target===e.backdrop&&A(e)})}function ve(e){we(),e.classList.add("active")}function we(){document.querySelectorAll(".category-item").forEach(t=>t.classList.remove("active"))}function Le(){n.furnitureSection.categoriesList.addEventListener("click",Se)}async function ke(e=8,t=8,r="all",i=1){const{paginationContainer:a}=n;if(!a){console.error("Pagination container not found in DOM");return}const o=`
    <svg width="14" height="14" class="left-arrow">
    <use href="${b}#arrow-left"></use>  
    </svg>
    `,c=`
    <svg width="14" height="14" class="right-arrow">
        <use href="${b}#arrow-right"></use>  
    </svg>
`,d={totalItems:e,itemsPerPage:t,page:i,visiblePages:4,centerAlign:!0,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton({type:s}){return s==="prev"?`<a href="#" class="tui-page-btn tui-prev">${o}</a>`:s==="next"?`<a href="#" class="tui-page-btn tui-next">${c}</a>`:'<span style="display:none"></span>'},disabledMoveButton({type:s}){return s==="prev"?`<span class="tui-page-btn tui-is-disabled tui-prev">${o}</span>`:s==="next"?`<span class="tui-page-btn tui-is-disabled tui-next">${c}</span>`:'<span style="display:none"></span>'},moreButton({type:s}){return s==="next"?'<a href="#" class="tui-page-btn tui-next-is-more"><span class="tui-ico-ellip">...</span></a>':'<a href="#" class="tui-page-btn tui-prev-is-more"><span class="tui-ico-ellip">...</span></a>'}}};new Y(a,d).on("afterMove",async s=>{console.log("Current page:",s.page),await k(r,s.page);const u=n.furnitureSection.categoriesList.getBoundingClientRect().bottom+window.scrollY-100;window.scrollTo({top:u,behavior:"smooth"})})}async function Se(e){const t=e.target.closest(".category-item");if(!t)return;ve(t);const r=t.dataset.id;await k(r);const i=n.furnitureSection.categoriesList.getBoundingClientRect().bottom+window.scrollY-40;window.scrollTo({top:i,behavior:"smooth"})}async function Ee(){try{me();const e=await x(),t=[{_id:"all",name:"Всі категорії"},...e];ae(t)}catch{throw new Error("Не вдалося завантажити категорії")}finally{Ae()}}async function k(e="all",t=1,r=8){var i;try{pe();const a=await D(e,t,r),o=a.furnitures;if(!Array.isArray(o)||o.length===0){m("Більше товарів немає");return}ie(o),ke(a.totalItems,a.limit,"all",t)}catch(a){throw console.error("Помилка при отриманні товарів:",a),m("Сервер не відповідає або категорія недоступна"),(i=n.loadMoreBtn)==null||i.classList.add("visually-hidden"),new Error("Не вдалося завантажити товар")}finally{he()}}async function Be(){fe();try{const t=(await z()).feedbacks;n.feedback.list.innerHTML="",t.forEach(i=>{const a=se(i);n.feedback.list.appendChild(a)});const r=new F(".feedback-slider",{modules:[T,X],slidesPerView:1,spaceBetween:24,pagination:{el:".feedback-pagination",clickable:!0},navigation:{nextEl:".feedback-btn-next",prevEl:".feedback-btn-prev"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});ce(),document.addEventListener("keydown",i=>{i.key==="ArrowRight"&&n.feedback.btnNext.click(),i.key==="ArrowLeft"&&n.feedback.btnPrev.click()})}catch(e){console.error("Помилка завантаження відгуків:",e)}finally{ge()}}function S(){w(n.headerSection.burgerBtn),n.headerSection.burgerBtn.removeEventListener("click",S),L(n.headerSection.closeBtn),n.headerSection.closeBtn.addEventListener("click",g),n.headerSection.menuModal.addEventListener("click",O),Ie(),N()}function g(){w(n.headerSection.closeBtn),n.headerSection.closeBtn.removeEventListener("click",g),L(n.headerSection.burgerBtn),n.headerSection.burgerBtn.addEventListener("click",S),n.headerSection.menuModal.removeEventListener("click",O),qe(),q()}function O(e){const t=e.target.classList.contains("header-modal__link"),r=e.target.classList.contains("header-modal__button");(t||r)&&g()}function U(e){e.target===n.headerSection.menuModal||n.headerSection.menuModal.contains(e.target)||n.headerSection.burgerBtn.contains(e.target)||g()}function Ce(){n.headerSection.burgerBtn.addEventListener("click",S),B(),addEventListener("resize",B),addEventListener("resize",N)}function B(){te()?(g(),w(n.headerSection.burgerBtn)):W(n.headerSection.closeBtn)||L(n.headerSection.burgerBtn)}function Me(){return n.headerSection.menuModal.classList.contains("is-hidden")}function y(){const e=n.headerSection.header.getBoundingClientRect().height-.5;J(n.headerSection.menuModal,`top: ${e}px`)}function Ie(){n.headerSection.menuModal.classList.remove("is-hidden"),y(),document.addEventListener("click",U),addEventListener("resize",y)}function qe(){removeEventListener("resize",y),document.removeEventListener("click",U),_(n.headerSection.menuModal),n.headerSection.menuModal.classList.add("is-hidden")}async function Ne(){try{await Ee(),Le(),await k()}catch(e){m("Не вдалося завантажити меблі або категорії"),console.log(e.message)}}function Re(){new V(".accordion-container")}async function Oe(){try{if(le(),(await Ue()).length>0)de(I),Re();else throw new Error("Не вдалося завантажити дані про часті питання")}catch(e){m(e.message)}finally{ue()}}async function Ue(){return I}async function Pe(){const e=document.querySelectorAll("load");for(const t of e){const r=t.getAttribute("src");if(r){const i=await fetch(r);i.ok?t.outerHTML=await i.text():console.error("Не вдалося завантажити:",r)}}}async function Ye(){await Pe(),Be()}function Fe(e){const{name:t,phone:r,comment:i}=e.elements;return{name:t.value.trim(),phone:r.value.trim(),comment:i.value.trim(),modelId:e.dataset.modelId,color:e.dataset.color}}function Te(e,t){return/^[A-Za-zА-Яа-яЁёІіЇїЄєҐґ'’\-\s]+$/u.test(e)?(t.elements.name.classList.remove("error"),!0):(t.elements.name.classList.add("error"),v("Ім’я може містити лише літери."),!1)}function Xe(e,t){const r=e.replace(/[()\s-]/g,"");return/^\+?(?:[0-9] ?){6,14}[0-9]$/.test(r)?(t.elements.phone.classList.remove("error"),!0):(t.elements.phone.classList.add("error"),v("Будь ласка, введіть номер у форматі +380XXXXXXXXX або 380XXXXXXXXX."),!1)}function Ve(e){const r=e.phone.replace(/[()\s-]/g,"").replace("+","");return{name:e.name,phone:r,comment:e.comment,modelId:e.modelId,color:e.color}}async function je(e){return await Q(e)}function C(e,t){t?(e.classList.add("on-load"),e.disabled=!0):(e.classList.remove("on-load"),e.disabled=!1)}async function xe(e){var d,l,s;e.preventDefault();const t=e.target,r=t.querySelector("[data-form-submit]"),i=Fe(t),a=Te(i.name,t),o=Xe(i.phone,t);if(!a||!o)return;const c=Ve(i);C(r,!0);try{await je(c),G(`✅ Дякуємо, ${i.name}! Ми скоро зв’яжемось із вами.`),t.reset(),A(n.orderModal)}catch(u){console.error("❌ Order submission error:",((d=u.response)==null?void 0:d.data)||u),v(((s=(l=u.response)==null?void 0:l.data)==null?void 0:s.message)||"❌ Виникла помилка. Спробуйте пізніше.")}finally{C(r,!1)}}function De(){const{form:e}=n.orderModal;e&&e.addEventListener("submit",xe)}async function ze(){typeof loadPartials=="function"&&await loadPartials(),Ce(),Ne(),await Oe(),Ye(),ye(n.orderModal),De()}document.addEventListener("DOMContentLoaded",ze);
//# sourceMappingURL=index.js.map
