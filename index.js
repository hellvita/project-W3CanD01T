import{a as v,i as l,A as y}from"./assets/vendor-CI28GiJ6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const c={orderModal:{backdrop:document.querySelector("[data-modal-order]"),openBtn:document.querySelector("[data-modal-order-open]"),closeBtn:document.querySelector("[data-modal-order-close]"),form:document.querySelector("[data-order-form]")},faqSection:{accordion:document.querySelector(".accordion-container")}};function w(e){e!=null&&e.backdrop&&(e.backdrop.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),window.activeModalRef=e,window.addEventListener("keydown",g))}function a(e){e!=null&&e.backdrop&&(e.backdrop.classList.add("is-hidden"),document.body.classList.remove("no-scroll"),window.removeEventListener("keydown",g),window.activeModalRef=null)}function g(e){e.key==="Escape"&&window.activeModalRef&&a(window.activeModalRef)}function b(e){var t,r,n;(t=e.openBtn)==null||t.addEventListener("click",()=>w(e)),(r=e.closeBtn)==null||r.addEventListener("click",()=>a(e)),(n=e.backdrop)==null||n.addEventListener("click",o=>{o.target===e.backdrop&&a(e)})}const L="https://furniture-store-v2.b.goit.study/api",O={CATEGORY:"/categories",FURNITURE:"/furnitures",FEEDBACK:"/feedbacks",ORDER:"/orders"},X=[{q:"Як здійснюється доставка меблів?",a:"Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3–7 днів залежно від регіону."},{q:"Чи є можливість вибрати колір або матеріал?",a:"Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару."},{q:"Чи можна повернути товар, якщо він не підійшов?",a:"Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді."},{q:"Чи надаєте ви послугу збирання меблів?",a:"Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час."},{q:"Як здійснити оплату?",a:"Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні."}];v.defaults.baseURL=L;async function q(e){try{const{data:t}=await v.post(O.ORDER,e);return t}catch(t){throw console.error("❌ Order submission error:",t),t}}l.settings({timeout:4e3,theme:"dark",position:"topRight",resetOnHover:!0,transitionIn:"flipInX",transitionOut:"flipOutX"});function E(e){l.success({title:"Успіх",message:e,position:"topRight"})}function u(e){l.error({title:"Помилка",message:e,position:"topRight"})}function S(e){const{name:t,phone:r,comment:n}=e.elements;return{name:t.value.trim(),phone:r.value.trim(),comment:n.value.trim(),modelId:e.dataset.modelId,color:e.dataset.color}}function M(e,t){return/^[A-Za-zА-Яа-яЁёІіЇїЄєҐґ'’\-\s]+$/u.test(e)?(t.elements.name.classList.remove("error"),!0):(t.elements.name.classList.add("error"),u("Ім’я може містити лише літери."),!1)}function k(e,t){const r=e.replace(/[()\s-]/g,"");return/^\+?(?:[0-9] ?){6,14}[0-9]$/.test(r)?(t.elements.phone.classList.remove("error"),!0):(t.elements.phone.classList.add("error"),u("Будь ласка, введіть номер у форматі +380XXXXXXXXX або 380XXXXXXXXX."),!1)}function P(e){const r=e.phone.replace(/[()\s-]/g,"").replace("+","");return{name:e.name,phone:r,comment:e.comment,modelId:e.modelId,color:e.color}}async function A(e){return await q(e)}function h(e,t){t?(e.classList.add("on-load"),e.disabled=!0):(e.classList.remove("on-load"),e.disabled=!1)}async function B(e){var p,m,f;e.preventDefault();const t=e.target,r=t.querySelector("[data-form-submit]"),n=S(t),o=M(n.name,t),s=k(n.phone,t);if(!o||!s)return;const i=P(n);h(r,!0);try{await A(i),E(`✅ Дякуємо, ${n.name}! Ми скоро зв’яжемось із вами.`),t.reset(),a(c.orderModal)}catch(d){console.error("❌ Order submission error:",((p=d.response)==null?void 0:p.data)||d),u(((f=(m=d.response)==null?void 0:m.data)==null?void 0:f.message)||"❌ Виникла помилка. Спробуйте пізніше.")}finally{h(r,!1)}}function I(){const{form:e}=c.orderModal;e&&e.addEventListener("submit",B)}const F="/project-W3CanD01T/assets/icons-BpZPQaBd.svg";function N(e){const t=e.map(({q:r,a:n})=>`
            <div class="ac">
                <h3 class="ac-header">
                    <button type="button" class="ac-trigger">${r}<svg class="svg-sprite-arrow-down" width="17" height="10">
                                <use href="${F}#arrow-down"></use>
                            </svg>
                        </button>
                    </h3>
                    <div class="ac-panel">
                        <p class="faq-block-answer">${n}</p>
                    </div>
                </div>
    `).join("");c.faqSection.accordion.innerHTML=t}function T(){new y(".accordion-container")}function D(){N(X),T()}b(c.orderModal);I();D();
//# sourceMappingURL=index.js.map
